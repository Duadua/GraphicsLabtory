//----------------------------------------------------
// Declaration: Copyright (c), by i_dovelemon, 2017. All right reserved.
// Author: i_dovelemon[1322600812@qq.com]
// Date: 2017 / 02 / 16
// Brief: Depth map
//----------------------------------------------------
#version 330

// Input attributes
in vec4 vs_Vertex;

void main() {
	// If you do not want to use fix pipeline, you must convert depth to [0,1]
	// so that we can store it in a float texture
	float depth = vs_Vertex.z / vs_Vertex.w + 1.0;
	gl_FragDepth = depth / 2.0;
}